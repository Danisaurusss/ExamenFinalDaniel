@model ExamenFinalDaniel.Models.CalculadoraUML
@{
    ViewBag.Title = "Calculadora";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

<div class="container mt-5 p-4 border rounded shadow" style="max-width: 600px;">
    <h2 class="text-center mb-4">Calculadora MVC</h2>

    <
    <form method="post" class="mb-4">

        <div class="mb-3">
            <label class="form-label">Número 1</label>
            <input type="number" step="any" name="Numero1" class="form-control" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Operación</label>
            <select name="operacion" class="form-select">
                <option value="Sumar">Sumar (+)</option>
                <option value="Restar">Restar (-)</option>
                <option value="Multiplicar">Multiplicar (*)</option>
                <option value="Dividir">Dividir (/)</option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">Número 2</label>
            <input type="number" step="any" name="Numero2" class="form-control" required />
        </div>

        <button type="submit" class="btn btn-primary w-100">Calcular</button>
    </form>

    
    @if (ViewBag.Resultado != null)
    {
        <div class="alert alert-success">
            <strong>Resultado:</strong> @ViewBag.Resultado
        </div>
    }

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger">
            @ViewBag.Error
        </div>
    }

    
    <div class="d-flex gap-2 mt-3">
        <a href="@Url.Action("LimpiarTodo", "Calculadora")" class="btn btn-warning w-50">AC (Limpiar Todo)</a>
        <a href="@Url.Action("ExportarCSV", "Calculadora")" class="btn btn-success w-50">Exportar a CSV</a>
    </div>

    
    <h4 class="mt-4">Historial</h4>

    @if (ViewBag.Historial != null && ViewBag.Historial.Count > 0)
    {
        <ul class="list-group">
            @foreach (var item in ViewBag.Historial)
            {
                <li class="list-group-item">@item</li>
            }
        </ul>
    }
    else
    {
        <p class="text-muted">No hay operaciones en el historial.</p>
    }
</div>